

<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="renderer" content="webkit">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="description" content="但行好事 莫问前程">

	
		
			<link rel="stylesheet" href="/bower_components/fancybox/source/jquery.fancybox.css">
		
		<link rel="stylesheet" href="/bower_components/font-awesome/css/font-awesome.min.css">
		<link rel="stylesheet" href="/css/style.css">
	

	<title>但行好事 莫问前程 - 明羽</title>
<meta name="generator" content="Hexo 4.2.1"></head>
<body>
<header id="header">
	<div class="center">
		<div class="wrap">
			<div id="site">
				<h1>
					<a href="/">但行好事 莫问前程</a>
					
						<a class="github" href="https://github.com/dnxbf321" target="_blank" rel="noopener">
	  					<svg aria-hidden="true" class="octicon octicon-mark-github" height="28" role="img" version="1.1" viewBox="0 0 16 16" width="28"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59 0.4 0.07 0.55-0.17 0.55-0.38 0-0.19-0.01-0.82-0.01-1.49-2.01 0.37-2.53-0.49-2.69-0.94-0.09-0.23-0.48-0.94-0.82-1.13-0.28-0.15-0.68-0.52-0.01-0.53 0.63-0.01 1.08 0.58 1.23 0.82 0.72 1.21 1.87 0.87 2.33 0.66 0.07-0.52 0.28-0.87 0.51-1.07-1.78-0.2-3.64-0.89-3.64-3.95 0-0.87 0.31-1.59 0.82-2.15-0.08-0.2-0.36-1.02 0.08-2.12 0 0 0.67-0.21 2.2 0.82 0.64-0.18 1.32-0.27 2-0.27 0.68 0 1.36 0.09 2 0.27 1.53-1.04 2.2-0.82 2.2-0.82 0.44 1.1 0.16 1.92 0.08 2.12 0.51 0.56 0.82 1.27 0.82 2.15 0 3.07-1.87 3.75-3.65 3.95 0.29 0.25 0.54 0.73 0.54 1.48 0 1.07-0.01 1.93-0.01 2.2 0 0.21 0.15 0.46 0.55 0.38C13.71 14.53 16 11.53 16 8 16 3.58 12.42 0 8 0z"></path></svg>
						</a>
					
				</h1>
				
					<h2>
						<a href="/">明羽</a>
					</h2>
				
			</div>
			<nav id="menu">
				<ul>
					
						<li><a href="/">首页</a></li>
					
						<li><a href="/archives/">归档</a></li>
					
				</ul>
			</nav>
		</div>
	</div>
</header>

<div id="content">
	<div class="center">
		<div class="main-col">
			

	
	<article class="post">
	<div class="post-content">
		<header>
			
				<div class="meta">
					<div class="icon">
						
							<i class="fa fa-file"></i>
						
					</div>
					<time datetime="2018-12-02T13:30:33.000Z">2018-12-02</time>
				</div>
			
			
	
		<h1 class="title">spring Boot 2.x | swagger2构建api文档</h1>
	

		</header>
		<div class="entry">
			
				<blockquote>
<p>本文讲解springboot中如何集成swagger</p>
<p>swagger2是一个可以构建和调试RESTful API文档的组件，利用swagger2的注解可以快速的在项目中构建Api文档，并且提供了测试API的功能</p>
</blockquote>
<h4 id="集成swagger"><a href="#集成swagger" class="headerlink" title="集成swagger"></a>集成swagger</h4><h5 id="引入swagger依赖"><a href="#引入swagger依赖" class="headerlink" title="引入swagger依赖"></a>引入swagger依赖</h5><pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.springfox&lt;/groupId&gt;
    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;
    &lt;version&gt;2.7.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;io.springfox&lt;/groupId&gt;
    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;
    &lt;version&gt;2.7.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
<h5 id="配置swagger"><a href="#配置swagger" class="headerlink" title="配置swagger"></a>配置swagger</h5><pre><code class="java">/**
 * @auther: chenmingyu
 * @date: 2018/12/2 21:39
 * @description:
 */
@Configuration
@EnableSwagger2
public class Swagger2Configration {

    /**
     * 创建api文档
     * @return
     */
    @Bean
    public Docket createRestApi() {
        return new Docket(DocumentationType.SWAGGER_2)
                .apiInfo(apiInfo())
                .select()
                .apis(RequestHandlerSelectors.basePackage(&quot;com.my.swagger&quot;))
                .paths(PathSelectors.any())
                .build();
    }

    /**
     * api文档页面展示信息
     * @return
     */
    private ApiInfo apiInfo() {
        return new ApiInfoBuilder()
                .title(&quot;swagger组件&quot;)
                .description(&quot;测试api文档&quot;)
                .contact(new Contact(&quot;mingyu&quot;, &quot;www.chenmingyu.top&quot;, null))
                .version(&quot;1.0&quot;)
                .build();
    }
}</code></pre>
<p><em>@configration 标识这是一个配置类</em></p>
<p><em>@Bean 将docket对象注入到spring容器</em></p>
<p><em>@EnableSwagger2 开启swagger2</em></p>
<p><em>apis 表示swagger需要扫描的包</em></p>
<p><em>PathSelectors.any() 表示路径选择器匹配所有路径</em></p>
<p><em>contact() 作者信息</em></p>
<h5 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h5><pre><code class="java">/**
 * @auther: chenmingyu
 * @date: 2018/12/2 21:43
 * @description:
 */
@RestController
@RequestMapping(&quot;/test&quot;)
@Api(tags =&quot;用户信息接口&quot;)
public class UserController {

    @GetMapping(&quot;/user&quot;)
    @ApiOperation(value=&quot;查询所有&quot;, notes=&quot;查询所有用户信息&quot;)
    public List&lt;User&gt; queryUsers(){
        List&lt;User&gt; userList = new ArrayList&lt;&gt;();
        IntStream.range(0, 5).forEach(i-&gt;{
            User user = new User();
            user.setId(i);
            user.setUserName(&quot;cmy&quot;);
            user.setPassWord(&quot;passWord&quot;);
            userList.add(user);
        });
        return userList;
    }
}
@Data
@ApiModel(value=&quot;用户对象&quot;)
class User {

    private Integer id;
    @ApiModelProperty(value=&quot;用户名称&quot;,name=&quot;userName&quot;)
    private String userName;

    @ApiModelProperty(value=&quot;密码&quot;,name=&quot;passWord&quot;)
    private String passWord;
}</code></pre>
<h5 id="启动项目，查看swagger页面"><a href="#启动项目，查看swagger页面" class="headerlink" title="启动项目，查看swagger页面"></a>启动项目，查看swagger页面</h5><p>文档地址 <a href="http://localhost:8080/swagger-ui.html" target="_blank" rel="noopener">http://localhost:8080/swagger-ui.html</a></p>
<p><img src="/springboot-swagger/1.png" alt></p>
<h5 id="重用注释"><a href="#重用注释" class="headerlink" title="重用注释"></a>重用注释</h5><pre><code class="yml">@Api() 用于类；表示标识这个类是swagger的资源 
tags–表示说明 
value–也是说明，可以使用tags替代 

@ApiOperation() 用于方法；表示一个http请求的操作 
value用于方法描述 
notes用于提示内容 

@ApiParam() 用于方法，参数，字段说明；表示对参数的添加元数据（说明或是否必填等） 
name–参数名 
value–参数说明 
required–是否必填

@ApiModel()用于类 ；表示对类进行说明，用于参数用实体类接收 
value–表示对象名 

@ApiModelProperty()用于方法，字段； 表示对model属性的说明或者数据操作更改 
value–字段说明 
name–重写属性名字 
dataType–重写属性类型 
required–是否必填 
example–举例说明 
hidden–隐藏

@ApiImplicitParam() 用于方法 
表示单独的请求参数

@ApiImplicitParams() 用于方法，包含多个 @ApiImplicitParam 
name–参数ming 
value–参数说明 
dataType–数据类型 
paramType–参数类型 
example–举例说明

@ApiIgnore
作用于方法上，使用这个注解swagger将忽略这个接口</code></pre>

			
		</div>
		<footer class="clearfix">
			
			
	<div class="categories">
		<i class="fa fa-folder"></i>
		
			<a href="/categories/java/">java</a>
		
	</div>

			
	<div class="tags">
		<i class="fa fa-tags"></i>
		
			<a href="/tags/springboot/">#springboot</a>
		
			<a href="/tags/swagger2/">#swagger2</a>
		
	</div>

		</footer>
	</div>
</article>

	
<section id="comment">
	<div id="disqus_thread"></div>
</section>
<script>
	(function (disqus_shortname) {
		window.addEventListener('DOMContentLoaded', function () {
			var dsq = document.createElement('script');
			dsq.type = 'text/javascript';
			dsq.async = true;
			dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
			document.getElementsByTagName('head')[0].appendChild(dsq);
		}, false);
	}('dnxbf321'));
</script>



		</div>
		

	
	<a href="https://chenmingyu.top/springboot-redis/" id="postPrev" class="icon fa fa-chevron-left"></a>


	<a href="https://chenmingyu.top/springboot-mybatis-xml/" id="postNext" class="icon fa fa-chevron-right"></a>



	</div>
</div>

<footer id="footer">
	<div class="center">
		&copy; 2022
		
			明羽
		.
		&nbsp;&nbsp;
		Blog generated by <a href="http://hexo.io" target="_blank" rel="noopener">hexo</a>
	</div>
</footer>

<script src="/bower_components/jquery/dist/jquery.min.js"></script>
<script src="/js/header-animate.js"></script>



<script src="/bower_components/jquery_lazyload/jquery.lazyload.js"></script>
<script>
	$('img.lazy').lazyload();
</script>

	<script src="/bower_components/fancybox/source/jquery.fancybox.pack.js"></script>
	<script>
		$('.fancybox').fancybox();
	</script>




</body>
</html>